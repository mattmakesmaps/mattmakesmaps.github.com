<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Build a TinyGS Cube Satellite Receiver</title>
		<meta name="description" content="Overview of the TinyGS project and home receiving station.">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="mattmakesmaps">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="mattmakesmaps">
		<link rel="canonical" href="https://mattmakesmaps.com/blog/2024-01-22-tinygs-overview/">
		<meta name="generator" content="Eleventy v2.0.1">
		
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--homepage-postlist-background-color: #4d49be;
	--homepage-postlist-text-color: #fff;

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;

		--homepage-postlist-text-color: var(--color-gray-20);

		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 60em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}
header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	padding: .1em .2em;
	font-family: var(--font-family-monospace);
	font-size: 90%;
	background-color: var(--color-gray-20);
	border-radius: 3px;
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
	margin-right: 1em;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}
a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}
a[href].header-anchor:focus,
a[href].header-anchor:hover {
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

h2 + .header-anchor {
	font-size: 1.5em;
}

/* Create "responsive" images that resize with the viewport */

img {
	max-inline-size: 100%;
	block-size: auto;
}

div.recentPosts {
	background-color: var(--homepage-postlist-background-color);
	color: var(--homepage-postlist-text-color);
	padding: 1rem;
}

a[href].homepage-postlist-link {
	color: var(--homepage-postlist-text-color);
}
a[href]:visited.homepage-postlist-link {
	color: var(--homepage-postlist-text-color);
}
a[href]:hover.homepage-postlist-link,
a[href]:active.homepage-postlist-link {
	color: var(--color-gray-50);
}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">mattmakesmaps</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/blog/">Blog</a></li>
					<li class="nav-item"><a href="/cv/">CV</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			
<h1>Build a TinyGS Cube Satellite Receiver</h1>

<ul class="post-metadata">
	<li><time datetime="2024-01-22">22 January 2024</time></li>
	<li><a href="/tags/ham-radio/" class="post-tag">ham radio</a>, </li>
	<li><a href="/tags/tinygs/" class="post-tag">tinygs</a>, </li>
	<li><a href="/tags/satellite/" class="post-tag">satellite</a></li>
</ul>

<p>As an amateur radio enthusiast, I've long been interested in DIY reception of satellite signals. Previously, I've succeeded at pulling down live <a href="https://docs.google.com/presentation/d/e/2PACX-1vR-d59s4KdPILqCsMLZ8jk274in0BSCQZYdrsFT7-e8vsb0iXxtu3cfHsKewWCVdejAvG5Ju19OGkWD/pub?start=false&amp;loop=false&amp;delayms=3000&amp;slide=id.p">NOAA weather satellite imagery</a>, and failed at retrieving NOAA GOES satellite full disk earth imagery.</p>
<p>At the end of 2023, I built a small cubesat telemetry receiver (or ground station) connected to the <a href="https://www.tinygs.com">TinyGS project</a>.</p>
<p>The result of my station build can be seen at my station's <a href="https://tinygs.com/station/KI7ZTH@6866355156">homepage on the TinyGS web app</a>.</p>
<p><picture><source type="image/webp" srcset="/img/v1EWZ1lZQI-320.webp 320w, /img/v1EWZ1lZQI-600.webp 600w, /img/v1EWZ1lZQI-960.webp 960w" sizes="90vw, (min-width: 1280px) 1156px"><img alt="Screenshot of recent telemetry packets from my backyard station." loading="lazy" decoding="async" src="/img/v1EWZ1lZQI-320.jpeg" width="960" height="941" srcset="/img/v1EWZ1lZQI-320.jpeg 320w, /img/v1EWZ1lZQI-600.jpeg 600w, /img/v1EWZ1lZQI-960.jpeg 960w" sizes="90vw, (min-width: 1280px) 1156px"></picture></p>
<p>Above, you can see the positions of the most recently received telemetry packets.</p>
<p>Each packet of binary data received by my station (and the thousands of others globally) are published to the TinyGS backend MQTT infrastructure where they are decoded and stored in a separate backed (which I'm not familiar with). <a href="https://aws.amazon.com/what-is/mqtt/#:~:text=MQTT%20is%20a%20standards%2Dbased,constrained%20network%20with%20limited%20bandwidth.">MQTT</a> is an IoT backend &quot;broker&quot; in a publish/subscribe model, in which my ground station acts as a publisher and other parts of the TinyGS storage infrastructure (presumably) are subscribers.</p>
<p>The magic of this project revolves around the LoRa communication protocol that allows for long distance, weak signal, communication from the cube satellites to terrestrial ground stations. LoRa is a <a href="https://en.wikipedia.org/wiki/Spread_spectrum">spread spectrum protocol</a> (up to 500 kHz in bandwidth) that allows for signals to be extracted deep below the <a href="https://en.wikipedia.org/wiki/Noise_floor">noise floor</a>.</p>
<p>The video below provides a great &quot;Hello World&quot; on the protocol.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dxYY097QNs0?si=OM7XgorcbyMACoJQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="building-your-own" tabindex="-1">Building your own <a class="header-anchor" href="#building-your-own">#</a></h2>
<p>I've iterated a few times on this station setup, and am pretty happy with its current configuration, as pictured below.</p>
<p><strong>TODO:</strong> Picture</p>
<p>Essentially, the system is composed of a 1/4 wave ground plane antenna, an ESP32 board flashed with the TinyGS Firmware, wrapped up in a weatherproof box. Below you'll find notes on various parts of the construction.</p>
<h3 id="antenna-construction" tabindex="-1">Antenna Construction <a class="header-anchor" href="#antenna-construction">#</a></h3>
<p>I already had a DIY quarter-wave ground plane antenna lying around, tuned for the 2m band. Since these antenna elements were longer then what is required for this project (around the 70cm band), all I needed to do was actually cut the elements to length. My antenna was made out of simple 14 gauge copper wire, but it could also be made out of aluminum rods which looks nicer and is probably more robust.</p>
<p>The following video gives a good overview on how to construct an antenna for this project. It's also where I cribbed the correct lengths to trim my antenna elements.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6cVYsHCLKq8?si=YO6IH8GMQ-eP4Mba" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h3 id="hardware-and-software" tabindex="-1">Hardware and Software <a class="header-anchor" href="#hardware-and-software">#</a></h3>
<p>The project centers around an ESP32 based LoRa board, of which there are many different implementations. The particular one I went with is called the <a href="https://www.aliexpress.us/item/2255801140943675.html">official TTGO Meshtastic T-Beam V1.1 ESP32 433/868/915/923Mhz WiFi Bluetooth ESP32 GPS NEO-6M SMA 18650 Battery Holder With OLED</a>. There are cheaper ones available, but I decided to use this one since it had the capability to run off of <a href="https://www.amazon.com/Rechargeable-Flashlights-Headlights-Surveillance-Equipment/dp/B0BN1ZVS5X/ref=sr_1_4?keywords=18650+battery&amp;qid=1705962273&amp;sr=8-4">18650 rechargable batteries</a></p>
<p>With the board in hand, installing the project software is as easy as following the <a href="https://github.com/G4lile0/tinyGS/wiki/Quick-Start">instructions on the TinyGS project page</a>.</p>
<h3 id="enclosure-and-power" tabindex="-1">Enclosure and Power <a class="header-anchor" href="#enclosure-and-power">#</a></h3>
<p>I used the following parts to build the current version of the enclosure, which has survived well in the wet Seattle winter.</p>
<ul>
<li><a href="https://www.amazon.com/dp/B07RC83LTZ">Enclosure - A small plastic box</a></li>
<li><a href="https://www.amazon.com/dp/B0CC898NH5">Cable Glands - Provide weatherproof holes for cable routing</a></li>
<li><a href="https://www.amazon.com/gp/product/B0000AZ9HG">Electrical Tape - to waterproof antenna connection</a></li>
<li><a href="https://www.amazon.com/dp/B07Z7SNH4T">25 foot USB cable - for mains power)</a></li>
</ul>
<p>I switched to mains power via USB since the 18650 batteries only lasted about 3-4 hours per charge. I'd avoid using these batteries unless the small runtime works for your needs.</p>
<p>Additionally, I had to mount the antenna to the box somehow. I first used a small piece of scrap wood, but later glued together small strips of plastic to form a vertical antenna mount. Any scraps will do.</p>
<p>As you can see in the picture below, you can really just get creative with what's lying around. Here is a previous setup using a tupperware container and some scrap wood... setup in the University of Washington's Red Square.</p>
<p><picture><source type="image/webp" srcset="/img/7RzZzOCCVp-320.webp 320w, /img/7RzZzOCCVp-600.webp 600w, /img/7RzZzOCCVp-960.webp 960w, /img/7RzZzOCCVp-1280.webp 1280w" sizes="90vw, (min-width: 1280px) 1156px"><img alt="Screenshot of recent telemetry packets from my backyard station." loading="lazy" decoding="async" src="/img/7RzZzOCCVp-320.jpeg" width="1280" height="960" srcset="/img/7RzZzOCCVp-320.jpeg 320w, /img/7RzZzOCCVp-600.jpeg 600w, /img/7RzZzOCCVp-960.jpeg 960w, /img/7RzZzOCCVp-1280.jpeg 1280w" sizes="90vw, (min-width: 1280px) 1156px"></picture></p>
<h2 id="conclusions" tabindex="-1">Conclusions <a class="header-anchor" href="#conclusions">#</a></h2>
<p>There are so many interesting aspects of this project to hack on. Some of which include.</p>
<ul>
<li>Exploring different antenna configurations. Compare your results to those of <a href="https://tinygs.com/station/W7RCS@6500205772">your neighbors</a>!</li>
<li>Figuring out how raw binary packets are <a href="https://github.com/4m1g0/tinygs-decoders/tree/master">decoded via the tinygs-decoders project</a>.</li>
<li>Building <a href="https://www.youtube.com/watch?v=jwsSpdWuTwk">your own MQTT workflow</a> to preserve packets that your station has received.</li>
</ul>

<ul class="links-nextprev"><li>Previous: <a href="/blog/2023-12-20-ftm-6000r-repeater-programming/">Yaesu FTM-6000R Manually Program A Repeater</a></li><li>Next: <a href="/blog/2024-09-16-GTFS-Static/">King County Transit Data Part One - GTFS Static Schedules</a></li>
</ul>

		</main>

		<footer></footer>

		<!-- Current page: /blog/2024-01-22-tinygs-overview/ -->
	</body>
</html>
