<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>FLDIGI on Mac With Digirig and Baofeng HT</title>
		<meta name="description" content="Setup of fldigi software with digirig and baofeng ht">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="mattmakesmaps">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="mattmakesmaps">
		<link rel="canonical" href="https://mattmakesmaps.com/blog/2023-11-01-fldigi-baofeng/">
		<meta name="generator" content="Eleventy v2.0.1">
		
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--homepage-postlist-background-color: #4d49be;
	--homepage-postlist-text-color: #fff;

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;

		--homepage-postlist-text-color: var(--color-gray-20);

		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 60em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}
header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	padding: .1em .2em;
	font-family: var(--font-family-monospace);
	font-size: 90%;
	background-color: var(--color-gray-20);
	border-radius: 3px;
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
	margin-right: 1em;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}
a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}
a[href].header-anchor:focus,
a[href].header-anchor:hover {
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

h2 + .header-anchor {
	font-size: 1.5em;
}

/* Create "responsive" images that resize with the viewport */

img {
	max-inline-size: 100%;
	block-size: auto;
}

div.recentPosts {
	background-color: var(--homepage-postlist-background-color);
	color: var(--homepage-postlist-text-color);
	padding: 1rem;
}

a[href].homepage-postlist-link {
	color: var(--homepage-postlist-text-color);
}
a[href]:visited.homepage-postlist-link {
	color: var(--homepage-postlist-text-color);
}
a[href]:hover.homepage-postlist-link,
a[href]:active.homepage-postlist-link {
	color: var(--color-gray-50);
}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">mattmakesmaps</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/blog/">Blog</a></li>
					<li class="nav-item"><a href="/cv/">CV</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			
<h1>FLDIGI on Mac With Digirig and Baofeng HT</h1>

<ul class="post-metadata">
	<li><time datetime="2023-11-01">01 November 2023</time></li>
	<li><a href="/tags/ham-radio/" class="post-tag">ham radio</a></li>
</ul>

<p>I participated for the first time in the weekly <a href="https://www.psdhn.org/">Puget Sound Digital Ham Net</a>
this past Monday. This net specializes in sending digital data over the 2m and 70cm amateur radio bands
as opposed to traditional voice communication. This allows for text and image files to be sent over
a variety of different &quot;digital modes&quot;, although the most common for the group appeared to be
<a href="http://www.w1hkj.com/modes/mfsk.htm">multi-frequency shift keyed</a> aka <code>MFSK128</code>,
where the 128 indicates 128 baud or symbols per second. Pretty amazing to be able to send data across
Seattle without the internet.</p>
<p>With the help of <a href="https://www.qrz.com/db/KB7SDM">Ryan KB7SDM</a> and a great
<a href="https://www.youtube.com/watch?v=zSX64XwJ0E4">getting started presentation</a>
a group member had put together, I was able to receive and decode other participants' messages
using the <a href="http://www.w1hkj.com/"><code>fldigi</code> software suite</a>.</p>
<p>Here is an example of a message transmitted by a net member, received by my radio, and decoded on my
macbook pro using <code>fldigi</code>.</p>
<p><picture><source type="image/webp" srcset="/img/a6MA4y-4Pf-320.webp 320w, /img/a6MA4y-4Pf-600.webp 600w, /img/a6MA4y-4Pf-960.webp 960w, /img/a6MA4y-4Pf-1280.webp 1280w, /img/a6MA4y-4Pf-1600.webp 1600w, /img/a6MA4y-4Pf-1920.webp 1920w" sizes="90vw, (min-width: 1280px) 1156px"><img alt="Screenshot of fldigi software displaying decoded message." loading="lazy" decoding="async" src="/img/a6MA4y-4Pf-320.jpeg" width="1920" height="1242" srcset="/img/a6MA4y-4Pf-320.jpeg 320w, /img/a6MA4y-4Pf-600.jpeg 600w, /img/a6MA4y-4Pf-960.jpeg 960w, /img/a6MA4y-4Pf-1280.jpeg 1280w, /img/a6MA4y-4Pf-1600.jpeg 1600w, /img/a6MA4y-4Pf-1920.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1156px"></picture></p>
<p>Receiving was as easy as tuning my radio to the net frequency, and turning on my mac's microphone to
capture the sound from the radio's speaker. With regards to transmitting however, I wanted to be able
to connect the radio to directly the computer. This ensures maximum fidelity in the transmission,
and also allows the software to directly control the radio, &quot;keying&quot; or opening and closing the radio
for transmit only while sending a message. Alternatively, I'd have to manually key the radio myself.</p>
<p>In comes the <a href="https://digirig.net/">digirig</a> a tiny piece of hardware that sits between the
radio and computer, and essentially acts as a usb soundcard enables software control of the radio
itself.</p>
<p>Below you can see my handheld radio, a baofeng UV-5R, and the digirig interface. The digirig is connected
to the radio via an audio cable that plugs into both the radio's speaker and microphone jacks, allowing
for transmit and receive into the macbook pro. The digirig itself is connected to the computer via usb-c.</p>
<p><picture><source type="image/webp" srcset="/img/KwSYhcmrto-320.webp 320w, /img/KwSYhcmrto-600.webp 600w, /img/KwSYhcmrto-960.webp 960w, /img/KwSYhcmrto-1280.webp 1280w, /img/KwSYhcmrto-1600.webp 1600w, /img/KwSYhcmrto-1920.webp 1920w" sizes="90vw, (min-width: 1280px) 1156px"><img alt="A baofeng uv-5r handheld ham radio connected to a digirig interface." loading="lazy" decoding="async" src="/img/KwSYhcmrto-320.jpeg" width="1920" height="2560" srcset="/img/KwSYhcmrto-320.jpeg 320w, /img/KwSYhcmrto-600.jpeg 600w, /img/KwSYhcmrto-960.jpeg 960w, /img/KwSYhcmrto-1280.jpeg 1280w, /img/KwSYhcmrto-1600.jpeg 1600w, /img/KwSYhcmrto-1920.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1156px"></picture></p>
<p>Actually configuring the <code>fldigi</code> software to key the radio via the digirig was a little tricky.
<a href="https://forum.digirig.net/t/digirig-flrig-baofeng/580/4">This post</a> on the digirig forum
helped clear it up, however.</p>
<p>I had to set my <code>fldigi</code> software's <code>Hardware PTT</code> controls to the following (open image in a new tab
to enlarge):</p>
<p><picture><source type="image/webp" srcset="/img/oIxHPV3M4i-320.webp 320w, /img/oIxHPV3M4i-600.webp 600w, /img/oIxHPV3M4i-960.webp 960w, /img/oIxHPV3M4i-1280.webp 1280w, /img/oIxHPV3M4i-1600.webp 1600w" sizes="90vw, (min-width: 1280px) 1156px"><img alt="fldigi configuration menu for baofeng use." loading="lazy" decoding="async" src="/img/oIxHPV3M4i-320.jpeg" width="1600" height="912" srcset="/img/oIxHPV3M4i-320.jpeg 320w, /img/oIxHPV3M4i-600.jpeg 600w, /img/oIxHPV3M4i-960.jpeg 960w, /img/oIxHPV3M4i-1280.jpeg 1280w, /img/oIxHPV3M4i-1600.jpeg 1600w" sizes="90vw, (min-width: 1280px) 1156px"></picture></p>
<p>Basically the magic here is:</p>
<ul>
<li>Check <code>Use separate serial port PTT</code></li>
<li>Check <code>Use RTS</code></li>
<li>Set <code>Device</code> to <code>/dev/cu.usbserial-1120</code></li>
</ul>
<p>The first setting, <code>Use separate serial port PTT</code> I believe enables <code>fldigi</code> to use the new serial port
which the digirig hardware creates.</p>
<p>The second setting, <code>Use RTS</code> tells <code>fldigi</code> to transmit a <code>Ready to Transmit Signal</code> to the radio, which
actually keys up the radio and begins the transmission.</p>
<p>The third setting, for the device, simply selects the digirig from the list of connected devices on
the mac. There are two varients listed for each device, with <code>cu</code> or <code>tty</code> prefixes.
e.g <code>/dev/cu.usbserial-1120</code> or <code>/dev/tty.usbserial-1120</code>. This <a href="https://stackoverflow.com/questions/8632586/whats-the-difference-between-dev-tty-and-dev-cu-on-macos">stack overflow post</a>
explains the difference between the two. <code>cu</code> appears to be used for outbound connections on linux
systems.</p>
<p>I was able to successfully transmit over simplex with this setup, and am looking forward to trying
out more modes in a future iteration of the Puget Sound Digital Hams Net.</p>

<ul class="links-nextprev"><li>Previous: <a href="/blog/2023-10-19-site-migration/">New Site - From Jekyll to Eleventy</a></li><li>Next: <a href="/blog/2023-11-08-python-development-mac/">Python Dev Setup on Mac | Gotchas Documented</a></li>
</ul>

		</main>

		<footer></footer>

		<!-- Current page: /blog/2023-11-01-fldigi-baofeng/ -->
	</body>
</html>
